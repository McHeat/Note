## JVM体系结构

### 一、计算机的体系结构
 + **指令集** ：计算机所能识别的机器语言的命令集合
 + **计算单元** ：能够识别并且控制指令执行的功能模块
 + **寻址方式** ：地址的位数、最小地址和最大地址范围、以及地址的运行规则
 + **寄存器定义** ：包括操作数寄存器、变址寄存器、控制寄存器等的定义、数量和使用方式
 + **存储单元** ：能够存储操作数和保存操作结构的单元，如内核级缓存、内存和磁盘等
 
 当前计算机主流的体系结构上分为**精简指令集**(`RISC`)和**复杂指令集**(`CISC`)。  
 指令集与汇编语言的关系：  
 指令集是可以直接被机器识别的机器码，必须以二进制格式存在于计算机中。  
 汇编语言是能够被人识别的指令，在顺序和逻辑上是与机器指令一一对应的。  
 
 CPU的架构会影响指令集。不同的芯片架构设计一定会对应到不同的机器指令。但现在不同的芯片厂商往往都会采用兼容的方式兼容其他不同架构的指令集。
 
 能够被JVM解析执行的指令集称为**JVM字节码指令集**。
 
### 二、JVM体系结构
 JVM的体系结构基本上由4部分组成：
 + 类加载器
   在JVM启动时或者在类运行时将需要的class加载到JVM中。每个被JVM装载的类型都有一个对应的java.lang.Class类的实例来表示该类型，
   该实例可以唯一表示被JVM装载的class类，与其他类的实例一样存放在Java的堆中。
 + 执行引擎
   是JVM的核心部分，负责执行class文件中包含的字节码指令，相当于实际机器上的CPU。
   执行引擎是执行一条条代码的一个流程，一个Java线程就是一个执行引擎的实例。在一个JVM实例中同时有多个执行引擎在工作。
 + Java内存管理
   一个Java实例会有一个方法区、Java堆、Java栈、PC寄存器和本地方法区。方法区和Java堆是所有线程共享的，可以被所有的执行引擎实例访问到。
   每个执行引擎实例被创建时都会创建一个Java栈和一个PC寄存器。Java栈存储线程中方法调用的状态，PC寄存器执行即将执行的下一条指令。
 + 本地方法调用
   调用C或C++实现的本地方法的代码返回结果。  
   
### 三、JVM工作机制
 