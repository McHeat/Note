# Java虚拟机 

> Java虚拟机与Java语言并没有必然的联系，只与特定的二进制文件格式——class文件格式所关联。class文件包含了Java虚拟机指令集（或称为字节码）和符号表，以及其他一些辅助信息。  
基于安全方面的考虑，Java虚拟机在class文件中施加了许多强制性的语法和结构化约束，凡是能够用class文件正确表达出来的编程语言，都可以放在Java虚拟机中执行。  

## 1. class文件格式
编译后被Java虚拟机执行的代码使用了一种平台中立（不依赖于特定硬件及存储设备）的二进制格式来表示，
并且经常以文件的形式存储，这种格式称为class文件格式。  
class文件格式中精确地定义了类与接口的表示形式，包括在平台相关的目标文件格式中一些细节的惯例。

## 2. 数据类型
编译器应当在编译期间尽最大努力完成可能的类型价差，使得虚拟机在运行期间无需进行这些操作。  
Java虚拟机的数据类型分为两类：  
1. 原始类型(primitive type)  
Java虚拟机所支持的原始数据类型那个包括**数值类型**、boolean类型和returnAddress类型。
   + 数值类型  
     分为**整数类型**和**浮点类型**。  
       - 整数类型
       
         | 类型 | 取值范围 | 描述 |
         | :---: | :--- | --- | 
         | byte   | -128 ~ 128  (-2<sup>7</sup> ~ 2<sup>7</sup>-1) | 值为8位有符号二进制补码整数，默认为零。    | 
         | short  | -32768 ~ 32767  (-2<sup>15</sup> ~ 2<sup>15</sup>-1) | 值为16位有符号二进制补码整数，默认值为零。  |
         | int    | -2<sup>31</sup> ~ 2<sup>31</sup>-1 | 值为32位有符号二进制补码整数，默认值为零。  |
         | long   | -2<sup>63</sup> ~ 2<sup>63</sup>-1 | 值为64位有符号二进制补码整数，默认值为零。  |
         | char   | 0 ~ 65535 | 值为16位无符号整数表示，指向基本多文种平面(BMP)的Unicode码点，以UTF-16编码，默认值为Unicode的null码点（'/u0000''）。 |
       - 浮点类型  
              
         | 类型 | 描述 |
         | :---: | --- | 
         | float | 值为单精度浮点数集合或单精度浮点扩展指数集合中的元素，默认值为正数0。 |  
         | double | 值为双精度浮点数集合或双精度扩展指数集合中的元素，默认值为正数0。 |
   + boolean类型  
     值为布尔值true和false，默认值为false。
   + returnAddress类型  
     指向某个操作码的指针，此操作码与Java虚拟机指令相对应。在虚拟机支持的所有原始类型中，只有returnAddress类型是不能直接与Java语言的数据类型相对应的。
2. 引用类型(reference type)  

